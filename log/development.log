  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (39.3ms)[0m  [1m[35mCREATE DATABASE "lab_03_v2_juan_cabello_vargas_development" ENCODING = 'unicode' /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (37.3ms)[0m  [1m[35mCREATE DATABASE "lab_03_v2_juan_cabello_vargas_test" ENCODING = 'unicode' /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4818251125267142220) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-09-04 21:36:14.799737', '2025-09-04 21:36:14.799740') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
Migrating to CreateRoomsTable (20250904212511)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" bigserial primary key, "number" character varying NOT NULL, "room_type" integer NOT NULL, "price" integer NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904212511') RETURNING "version" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(4818251125267142220) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4818251125267142220) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
Migrating to CreateGuestsTable (20250904214231)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "guests" ("id" bigserial primary key, "first_name" character varying NOT NULL, "last_name" character varying NOT NULL, "email" character varying NOT NULL, "phone" character varying NOT NULL, "document_id" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250904214231') RETURNING "version" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (21.8ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT pg_advisory_unlock(4818251125267142220) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4818251125267142220) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
Migrating to CreateReservationsTable (20250905165941)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "reservations" ("id" bigserial primary key, "code" character varying NOT NULL, "guest_id" integer NOT NULL, "room_id" integer NOT NULL, "check_in" date NOT NULL, "check_out" date NOT NULL, "status" integer NOT NULL, "adults" integer NOT NULL, "children" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250905165941') RETURNING "version" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4818251125267142220) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4818251125267142220) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
Migrating to CreateServicesTable (20250905170817)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "name" character varying NOT NULL, "price" integer NOT NULL, "is_active" boolean NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250905170817') RETURNING "version" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4818251125267142220) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4818251125267142220) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
Migrating to CreateServiceUsagesTable (20250905171952)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "service_usages" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "service_id" integer NOT NULL, "quantity" integer NOT NULL, "used_at" timestamp(6) NOT NULL, "note" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250905171952') RETURNING "version" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (6.8ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(4818251125267142220) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4818251125267142220) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
Migrating to CreateInvoicesTable (20250905172800)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(4818251125267142220) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4818251125267142220) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
Migrating to CreateInvoicesTable (20250905172800)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "invoices" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "nights_subtotal" integer NOT NULL, "services_subtotal" integer, "tax" integer NOT NULL, "total" integer NOT NULL, "issued_at" timestamp(6) NOT NULL, "status" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250905172800') RETURNING "version" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4818251125267142220) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mGuest Load (22.5ms)[0m  [1m[34mSELECT "guests".* FROM "guests" /* loading for pp */ LIMIT 11 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mServiceUsage Load (1.1ms)[0m  [1m[34mSELECT "service_usages".* FROM "service_usages" /* loading for pp */ LIMIT 11 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (30.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "lab_03_v2_juan_cabello_vargas_development" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (3.1ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (47.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "lab_03_v2_juan_cabello_vargas_test" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (48.7ms)[0m  [1m[35mCREATE DATABASE "lab_03_v2_juan_cabello_vargas_development" ENCODING = 'unicode' /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (29.1ms)[0m  [1m[35mCREATE DATABASE "lab_03_v2_juan_cabello_vargas_test" ENCODING = 'unicode' /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (13.8ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "guests" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "guests" ("id" bigserial primary key, "first_name" character varying NOT NULL, "last_name" character varying NOT NULL, "email" character varying NOT NULL, "phone" character varying NOT NULL, "document_id" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "invoices" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "invoices" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "nights_subtotal" integer NOT NULL, "services_subtotal" integer, "tax" integer NOT NULL, "total" integer NOT NULL, "issued_at" timestamp(6) NOT NULL, "status" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "reservations" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "reservations" ("id" bigserial primary key, "code" character varying NOT NULL, "guest_id" integer NOT NULL, "room_id" integer NOT NULL, "check_in" date NOT NULL, "check_out" date NOT NULL, "status" integer NOT NULL, "adults" integer NOT NULL, "children" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" bigserial primary key, "number" character varying NOT NULL, "room_type" integer NOT NULL, "price" integer NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "service_usages" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "service_usages" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "service_id" integer NOT NULL, "quantity" integer NOT NULL, "used_at" timestamp(6) NOT NULL, "note" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "name" character varying NOT NULL, "price" integer NOT NULL, "is_active" boolean NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250905172800) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20250905171952),
(20250905170817),
(20250905165941),
(20250904214231),
(20250904212511); /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-09-05 17:51:58.119470', '2025-09-05 17:51:58.119472') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '8bd4548db056584c2f465d6f79344eaa19b265d7', '2025-09-05 17:51:58.124375', '2025-09-05 17:51:58.124377') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (10.0ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "guests" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "guests" ("id" bigserial primary key, "first_name" character varying NOT NULL, "last_name" character varying NOT NULL, "email" character varying NOT NULL, "phone" character varying NOT NULL, "document_id" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "invoices" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "invoices" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "nights_subtotal" integer NOT NULL, "services_subtotal" integer, "tax" integer NOT NULL, "total" integer NOT NULL, "issued_at" timestamp(6) NOT NULL, "status" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "reservations" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "reservations" ("id" bigserial primary key, "code" character varying NOT NULL, "guest_id" integer NOT NULL, "room_id" integer NOT NULL, "check_in" date NOT NULL, "check_out" date NOT NULL, "status" integer NOT NULL, "adults" integer NOT NULL, "children" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" bigserial primary key, "number" character varying NOT NULL, "room_type" integer NOT NULL, "price" integer NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "service_usages" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "service_usages" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "service_id" integer NOT NULL, "quantity" integer NOT NULL, "used_at" timestamp(6) NOT NULL, "note" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "name" character varying NOT NULL, "price" integer NOT NULL, "is_active" boolean NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250905172800) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20250905171952),
(20250905170817),
(20250905165941),
(20250904214231),
(20250904212511); /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-09-05 17:51:58.185763', '2025-09-05 17:51:58.185765') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.6ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2025-09-05 17:51:58.188511' WHERE "ar_internal_metadata"."key" = 'environment' /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '8bd4548db056584c2f465d6f79344eaa19b265d7', '2025-09-05 17:51:58.190865', '2025-09-05 17:51:58.190867') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mGuest Create (1.8ms)[0m  [1m[32mINSERT INTO "guests" ("first_name", "last_name", "email", "phone", "document_id", "created_at", "updated_at") VALUES ('Andres', 'Howard', 'aihoward@miuandes.cl', '900001111', '99999999k', '2025-09-05 17:51:58.245392', '2025-09-05 17:51:58.245392') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mGuest Create (1.0ms)[0m  [1m[32mINSERT INTO "guests" ("first_name", "last_name", "email", "phone", "document_id", "created_at", "updated_at") VALUES ('Elvis', 'Tec', 'test@test.com', '912345678', '141414142', '2025-09-05 17:51:58.261415', '2025-09-05 17:51:58.261415') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mRoom Create (1.1ms)[0m  [1m[32mINSERT INTO "rooms" ("number", "room_type", "price", "status", "created_at", "updated_at") VALUES ('101', 1, 1000, 1, '2025-09-05 17:51:58.282735', '2025-09-05 17:51:58.282735') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mRoom Create (0.9ms)[0m  [1m[32mINSERT INTO "rooms" ("number", "room_type", "price", "status", "created_at", "updated_at") VALUES ('201', 2, 2000, 2, '2025-09-05 17:51:58.288615', '2025-09-05 17:51:58.288615') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mRoom Create (1.3ms)[0m  [1m[32mINSERT INTO "rooms" ("number", "room_type", "price", "status", "created_at", "updated_at") VALUES ('301', 3, 3000, 3, '2025-09-05 17:51:58.296305', '2025-09-05 17:51:58.296305') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mGuest Count (31.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "guests" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mRoom Count (3.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "rooms" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4818251125267142220) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
Migrating to RenameRegistrationToReservation (20250905175802)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.7ms)[0m  [1m[35mALTER TABLE "registrations" RENAME TO "reservations" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[31mROLLBACK /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(4818251125267142220) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4818251125267142220) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
Migrating to RenameRegistrationToReservation (20250905175802)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mALTER TABLE "registrations" RENAME TO "reservations" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(4818251125267142220) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_try_advisory_lock(4818251125267142220) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(4818251125267142220) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mReservation Count (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (33.5ms)[0m  [1m[35mDROP DATABASE IF EXISTS "lab_03_v2_juan_cabello_vargas_development" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (3.3ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (47.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "lab_03_v2_juan_cabello_vargas_test" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (44.1ms)[0m  [1m[35mCREATE DATABASE "lab_03_v2_juan_cabello_vargas_development" ENCODING = 'unicode' /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (30.3ms)[0m  [1m[35mCREATE DATABASE "lab_03_v2_juan_cabello_vargas_test" ENCODING = 'unicode' /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (22.9ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "guests" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (3.5ms)[0m  [1m[35mCREATE TABLE "guests" ("id" bigserial primary key, "first_name" character varying NOT NULL, "last_name" character varying NOT NULL, "email" character varying NOT NULL, "phone" character varying NOT NULL, "document_id" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "invoices" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "invoices" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "nights_subtotal" integer NOT NULL, "services_subtotal" integer, "tax" integer NOT NULL, "total" integer NOT NULL, "issued_at" timestamp(6) NOT NULL, "status" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "reservations" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "reservations" ("id" bigserial primary key, "code" character varying NOT NULL, "guest_id" integer NOT NULL, "room_id" integer NOT NULL, "check_in" date NOT NULL, "check_out" date NOT NULL, "status" integer NOT NULL, "adults" integer NOT NULL, "children" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" bigserial primary key, "number" character varying NOT NULL, "room_type" integer NOT NULL, "price" integer NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "service_usages" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "service_usages" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "service_id" integer NOT NULL, "quantity" integer NOT NULL, "used_at" timestamp(6) NOT NULL, "note" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "name" character varying NOT NULL, "price" integer NOT NULL, "is_active" boolean NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250905172800) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20250905171952),
(20250905170817),
(20250905165941),
(20250904214231),
(20250904212511); /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-09-05 18:23:10.504962', '2025-09-05 18:23:10.504964') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '8bd4548db056584c2f465d6f79344eaa19b265d7', '2025-09-05 18:23:10.509984', '2025-09-05 18:23:10.509985') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (7.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "guests" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "guests" ("id" bigserial primary key, "first_name" character varying NOT NULL, "last_name" character varying NOT NULL, "email" character varying NOT NULL, "phone" character varying NOT NULL, "document_id" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "invoices" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "invoices" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "nights_subtotal" integer NOT NULL, "services_subtotal" integer, "tax" integer NOT NULL, "total" integer NOT NULL, "issued_at" timestamp(6) NOT NULL, "status" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "reservations" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "reservations" ("id" bigserial primary key, "code" character varying NOT NULL, "guest_id" integer NOT NULL, "room_id" integer NOT NULL, "check_in" date NOT NULL, "check_out" date NOT NULL, "status" integer NOT NULL, "adults" integer NOT NULL, "children" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" bigserial primary key, "number" character varying NOT NULL, "room_type" integer NOT NULL, "price" integer NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "service_usages" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "service_usages" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "service_id" integer NOT NULL, "quantity" integer NOT NULL, "used_at" timestamp(6) NOT NULL, "note" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "name" character varying NOT NULL, "price" integer NOT NULL, "is_active" boolean NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250905172800) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20250905171952),
(20250905170817),
(20250905165941),
(20250904214231),
(20250904212511); /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-09-05 18:23:10.545867', '2025-09-05 18:23:10.545869') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.6ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2025-09-05 18:23:10.547971' WHERE "ar_internal_metadata"."key" = 'environment' /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '8bd4548db056584c2f465d6f79344eaa19b265d7', '2025-09-05 18:23:10.549717', '2025-09-05 18:23:10.549718') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mGuest Create (1.9ms)[0m  [1m[32mINSERT INTO "guests" ("first_name", "last_name", "email", "phone", "document_id", "created_at", "updated_at") VALUES ('Andres', 'Howard', 'aihoward@miuandes.cl', '900001111', '99999999k', '2025-09-05 18:23:10.606141', '2025-09-05 18:23:10.606141') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mGuest Create (0.8ms)[0m  [1m[32mINSERT INTO "guests" ("first_name", "last_name", "email", "phone", "document_id", "created_at", "updated_at") VALUES ('Elvis', 'Tec', 'test@test.com', '912345678', '141414142', '2025-09-05 18:23:10.621844', '2025-09-05 18:23:10.621844') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mRoom Create (1.3ms)[0m  [1m[32mINSERT INTO "rooms" ("number", "room_type", "price", "status", "created_at", "updated_at") VALUES ('101', 1, 1000, 1, '2025-09-05 18:23:10.643043', '2025-09-05 18:23:10.643043') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mRoom Create (0.8ms)[0m  [1m[32mINSERT INTO "rooms" ("number", "room_type", "price", "status", "created_at", "updated_at") VALUES ('201', 2, 2000, 2, '2025-09-05 18:23:10.649533', '2025-09-05 18:23:10.649533') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mRoom Create (0.8ms)[0m  [1m[32mINSERT INTO "rooms" ("number", "room_type", "price", "status", "created_at", "updated_at") VALUES ('301', 3, 3000, 3, '2025-09-05 18:23:10.657414', '2025-09-05 18:23:10.657414') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mService Create (1.2ms)[0m  [1m[32mINSERT INTO "services" ("name", "price", "is_active", "created_at", "updated_at") VALUES ('Laundry', 20, TRUE, '2025-09-05 18:23:10.672364', '2025-09-05 18:23:10.672364') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mService Create (0.8ms)[0m  [1m[32mINSERT INTO "services" ("name", "price", "is_active", "created_at", "updated_at") VALUES ('Spa', 15, FALSE, '2025-09-05 18:23:10.694078', '2025-09-05 18:23:10.694078') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mReservation Create (2.2ms)[0m  [1m[32mINSERT INTO "reservations" ("code", "guest_id", "room_id", "check_in", "check_out", "status", "adults", "children", "created_at", "updated_at") VALUES ('code1', 1, 1, '2025-09-01', '2025-09-15', 1, 1, 2, '2025-09-05 18:23:10.711398', '2025-09-05 18:23:10.711398') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mReservation Create (0.8ms)[0m  [1m[32mINSERT INTO "reservations" ("code", "guest_id", "room_id", "check_in", "check_out", "status", "adults", "children", "created_at", "updated_at") VALUES ('code2', 2, 3, '1995-12-21', '9999-12-31', 1, 1, NULL, '2025-09-05 18:23:10.719621', '2025-09-05 18:23:10.719621') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mReservation Count (28.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "reservations" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mReservation Load (0.7ms)[0m  [1m[34mSELECT "reservations".* FROM "reservations" ORDER BY "reservations"."id" DESC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (38.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "lab_03_v2_juan_cabello_vargas_development" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (1.2ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (31.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "lab_03_v2_juan_cabello_vargas_test" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (41.9ms)[0m  [1m[35mCREATE DATABASE "lab_03_v2_juan_cabello_vargas_development" ENCODING = 'unicode' /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (31.6ms)[0m  [1m[35mCREATE DATABASE "lab_03_v2_juan_cabello_vargas_test" ENCODING = 'unicode' /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (16.4ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "guests" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "guests" ("id" bigserial primary key, "first_name" character varying NOT NULL, "last_name" character varying NOT NULL, "email" character varying NOT NULL, "phone" character varying NOT NULL, "document_id" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "invoices" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "invoices" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "nights_subtotal" integer NOT NULL, "services_subtotal" integer, "tax" integer NOT NULL, "total" integer NOT NULL, "issued_at" timestamp(6) NOT NULL, "status" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "reservations" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "reservations" ("id" bigserial primary key, "code" character varying NOT NULL, "guest_id" integer NOT NULL, "room_id" integer NOT NULL, "check_in" date NOT NULL, "check_out" date NOT NULL, "status" integer NOT NULL, "adults" integer NOT NULL, "children" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" bigserial primary key, "number" character varying NOT NULL, "room_type" integer NOT NULL, "price" integer NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "service_usages" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "service_usages" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "service_id" integer NOT NULL, "quantity" integer NOT NULL, "used_at" timestamp(6) NOT NULL, "note" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "name" character varying NOT NULL, "price" integer NOT NULL, "is_active" boolean NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250905172800) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20250905171952),
(20250905170817),
(20250905165941),
(20250904214231),
(20250904212511); /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-09-05 18:29:11.292048', '2025-09-05 18:29:11.292050') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '8bd4548db056584c2f465d6f79344eaa19b265d7', '2025-09-05 18:29:11.296732', '2025-09-05 18:29:11.296733') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (10.8ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "guests" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "guests" ("id" bigserial primary key, "first_name" character varying NOT NULL, "last_name" character varying NOT NULL, "email" character varying NOT NULL, "phone" character varying NOT NULL, "document_id" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "invoices" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "invoices" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "nights_subtotal" integer NOT NULL, "services_subtotal" integer, "tax" integer NOT NULL, "total" integer NOT NULL, "issued_at" timestamp(6) NOT NULL, "status" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "reservations" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "reservations" ("id" bigserial primary key, "code" character varying NOT NULL, "guest_id" integer NOT NULL, "room_id" integer NOT NULL, "check_in" date NOT NULL, "check_out" date NOT NULL, "status" integer NOT NULL, "adults" integer NOT NULL, "children" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" bigserial primary key, "number" character varying NOT NULL, "room_type" integer NOT NULL, "price" integer NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "service_usages" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "service_usages" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "service_id" integer NOT NULL, "quantity" integer NOT NULL, "used_at" timestamp(6) NOT NULL, "note" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "name" character varying NOT NULL, "price" integer NOT NULL, "is_active" boolean NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250905172800) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20250905171952),
(20250905170817),
(20250905165941),
(20250904214231),
(20250904212511); /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-09-05 18:29:11.363976', '2025-09-05 18:29:11.363977') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.7ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2025-09-05 18:29:11.366863' WHERE "ar_internal_metadata"."key" = 'environment' /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '8bd4548db056584c2f465d6f79344eaa19b265d7', '2025-09-05 18:29:11.369167', '2025-09-05 18:29:11.369168') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mGuest Create (2.2ms)[0m  [1m[32mINSERT INTO "guests" ("first_name", "last_name", "email", "phone", "document_id", "created_at", "updated_at") VALUES ('Andres', 'Howard', 'aihoward@miuandes.cl', '900001111', '99999999k', '2025-09-05 18:29:11.423509', '2025-09-05 18:29:11.423509') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mGuest Create (0.9ms)[0m  [1m[32mINSERT INTO "guests" ("first_name", "last_name", "email", "phone", "document_id", "created_at", "updated_at") VALUES ('Elvis', 'Tec', 'test@test.com', '912345678', '141414142', '2025-09-05 18:29:11.439785', '2025-09-05 18:29:11.439785') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mRoom Create (1.3ms)[0m  [1m[32mINSERT INTO "rooms" ("number", "room_type", "price", "status", "created_at", "updated_at") VALUES ('101', 1, 1000, 1, '2025-09-05 18:29:11.460674', '2025-09-05 18:29:11.460674') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mRoom Create (1.1ms)[0m  [1m[32mINSERT INTO "rooms" ("number", "room_type", "price", "status", "created_at", "updated_at") VALUES ('201', 2, 2000, 2, '2025-09-05 18:29:11.467544', '2025-09-05 18:29:11.467544') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mRoom Create (1.1ms)[0m  [1m[32mINSERT INTO "rooms" ("number", "room_type", "price", "status", "created_at", "updated_at") VALUES ('301', 3, 3000, 3, '2025-09-05 18:29:11.475958', '2025-09-05 18:29:11.475958') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mService Create (1.3ms)[0m  [1m[32mINSERT INTO "services" ("name", "price", "is_active", "created_at", "updated_at") VALUES ('Laundry', 20, TRUE, '2025-09-05 18:29:11.491273', '2025-09-05 18:29:11.491273') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mService Create (1.1ms)[0m  [1m[32mINSERT INTO "services" ("name", "price", "is_active", "created_at", "updated_at") VALUES ('Spa', 15, FALSE, '2025-09-05 18:29:11.516774', '2025-09-05 18:29:11.516774') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mReservation Create (1.5ms)[0m  [1m[32mINSERT INTO "reservations" ("code", "guest_id", "room_id", "check_in", "check_out", "status", "adults", "children", "created_at", "updated_at") VALUES ('code1', 1, 1, '2025-09-01', '2025-09-15', 1, 1, 2, '2025-09-05 18:29:11.534760', '2025-09-05 18:29:11.534760') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mReservation Create (0.8ms)[0m  [1m[32mINSERT INTO "reservations" ("code", "guest_id", "room_id", "check_in", "check_out", "status", "adults", "children", "created_at", "updated_at") VALUES ('code2', 2, 3, '1995-12-21', '9999-12-31', 1, 1, NULL, '2025-09-05 18:29:11.543410', '2025-09-05 18:29:11.543410') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (49.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "lab_03_v2_juan_cabello_vargas_development" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (3.2ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (42.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "lab_03_v2_juan_cabello_vargas_test" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (41.4ms)[0m  [1m[35mCREATE DATABASE "lab_03_v2_juan_cabello_vargas_development" ENCODING = 'unicode' /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (38.5ms)[0m  [1m[35mCREATE DATABASE "lab_03_v2_juan_cabello_vargas_test" ENCODING = 'unicode' /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (18.6ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "guests" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE TABLE "guests" ("id" bigserial primary key, "first_name" character varying NOT NULL, "last_name" character varying NOT NULL, "email" character varying NOT NULL, "phone" character varying NOT NULL, "document_id" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "invoices" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "invoices" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "nights_subtotal" integer NOT NULL, "services_subtotal" integer, "tax" integer NOT NULL, "total" integer NOT NULL, "issued_at" timestamp(6) NOT NULL, "status" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "reservations" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "reservations" ("id" bigserial primary key, "code" character varying NOT NULL, "guest_id" integer NOT NULL, "room_id" integer NOT NULL, "check_in" date NOT NULL, "check_out" date NOT NULL, "status" integer NOT NULL, "adults" integer NOT NULL, "children" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" bigserial primary key, "number" character varying NOT NULL, "room_type" integer NOT NULL, "price" integer NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "service_usages" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "service_usages" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "service_id" integer NOT NULL, "quantity" integer NOT NULL, "used_at" timestamp(6) NOT NULL, "note" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "name" character varying NOT NULL, "price" integer NOT NULL, "is_active" boolean NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250905172800) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20250905171952),
(20250905170817),
(20250905165941),
(20250904214231),
(20250904212511); /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-09-05 18:30:20.335642', '2025-09-05 18:30:20.335644') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '8bd4548db056584c2f465d6f79344eaa19b265d7', '2025-09-05 18:30:20.341423', '2025-09-05 18:30:20.341424') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (10.2ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "guests" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "guests" ("id" bigserial primary key, "first_name" character varying NOT NULL, "last_name" character varying NOT NULL, "email" character varying NOT NULL, "phone" character varying NOT NULL, "document_id" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "invoices" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "invoices" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "nights_subtotal" integer NOT NULL, "services_subtotal" integer, "tax" integer NOT NULL, "total" integer NOT NULL, "issued_at" timestamp(6) NOT NULL, "status" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "reservations" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "reservations" ("id" bigserial primary key, "code" character varying NOT NULL, "guest_id" integer NOT NULL, "room_id" integer NOT NULL, "check_in" date NOT NULL, "check_out" date NOT NULL, "status" integer NOT NULL, "adults" integer NOT NULL, "children" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" bigserial primary key, "number" character varying NOT NULL, "room_type" integer NOT NULL, "price" integer NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "service_usages" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "service_usages" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "service_id" integer NOT NULL, "quantity" integer NOT NULL, "used_at" timestamp(6) NOT NULL, "note" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "name" character varying NOT NULL, "price" integer NOT NULL, "is_active" boolean NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250905172800) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20250905171952),
(20250905170817),
(20250905165941),
(20250904214231),
(20250904212511); /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-09-05 18:30:20.380564', '2025-09-05 18:30:20.380565') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.5ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2025-09-05 18:30:20.382376' WHERE "ar_internal_metadata"."key" = 'environment' /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '8bd4548db056584c2f465d6f79344eaa19b265d7', '2025-09-05 18:30:20.384096', '2025-09-05 18:30:20.384098') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mGuest Create (1.9ms)[0m  [1m[32mINSERT INTO "guests" ("first_name", "last_name", "email", "phone", "document_id", "created_at", "updated_at") VALUES ('Andres', 'Howard', 'aihoward@miuandes.cl', '900001111', '99999999k', '2025-09-05 18:30:20.452380', '2025-09-05 18:30:20.452380') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mGuest Create (0.9ms)[0m  [1m[32mINSERT INTO "guests" ("first_name", "last_name", "email", "phone", "document_id", "created_at", "updated_at") VALUES ('Elvis', 'Tec', 'test@test.com', '912345678', '141414142', '2025-09-05 18:30:20.468025', '2025-09-05 18:30:20.468025') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mRoom Create (1.5ms)[0m  [1m[32mINSERT INTO "rooms" ("number", "room_type", "price", "status", "created_at", "updated_at") VALUES ('101', 1, 1000, 1, '2025-09-05 18:30:20.490080', '2025-09-05 18:30:20.490080') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mRoom Create (1.1ms)[0m  [1m[32mINSERT INTO "rooms" ("number", "room_type", "price", "status", "created_at", "updated_at") VALUES ('201', 2, 2000, 2, '2025-09-05 18:30:20.497269', '2025-09-05 18:30:20.497269') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mRoom Create (0.9ms)[0m  [1m[32mINSERT INTO "rooms" ("number", "room_type", "price", "status", "created_at", "updated_at") VALUES ('301', 3, 3000, 3, '2025-09-05 18:30:20.505621', '2025-09-05 18:30:20.505621') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mService Create (1.7ms)[0m  [1m[32mINSERT INTO "services" ("name", "price", "is_active", "created_at", "updated_at") VALUES ('Laundry', 20, TRUE, '2025-09-05 18:30:20.520715', '2025-09-05 18:30:20.520715') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mService Create (1.1ms)[0m  [1m[32mINSERT INTO "services" ("name", "price", "is_active", "created_at", "updated_at") VALUES ('Spa', 15, FALSE, '2025-09-05 18:30:20.547045', '2025-09-05 18:30:20.547045') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mReservation Create (2.4ms)[0m  [1m[32mINSERT INTO "reservations" ("code", "guest_id", "room_id", "check_in", "check_out", "status", "adults", "children", "created_at", "updated_at") VALUES ('code1', 1, 1, '2025-09-01', '2025-09-15', 1, 1, 2, '2025-09-05 18:30:20.564563', '2025-09-05 18:30:20.564563') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mReservation Create (1.0ms)[0m  [1m[32mINSERT INTO "reservations" ("code", "guest_id", "room_id", "check_in", "check_out", "status", "adults", "children", "created_at", "updated_at") VALUES ('code2', 2, 3, '1995-12-21', '9999-12-31', 1, 1, NULL, '2025-09-05 18:30:20.573406', '2025-09-05 18:30:20.573406') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (5028.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "lab_03_v2_juan_cabello_vargas_development" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (42.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "lab_03_v2_juan_cabello_vargas_development" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (1.9ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (43.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "lab_03_v2_juan_cabello_vargas_test" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (41.1ms)[0m  [1m[35mCREATE DATABASE "lab_03_v2_juan_cabello_vargas_development" ENCODING = 'unicode' /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (30.1ms)[0m  [1m[35mCREATE DATABASE "lab_03_v2_juan_cabello_vargas_test" ENCODING = 'unicode' /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (11.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "guests" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE TABLE "guests" ("id" bigserial primary key, "first_name" character varying NOT NULL, "last_name" character varying NOT NULL, "email" character varying NOT NULL, "phone" character varying NOT NULL, "document_id" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "invoices" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "invoices" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "nights_subtotal" integer NOT NULL, "services_subtotal" integer, "tax" integer NOT NULL, "total" integer NOT NULL, "issued_at" timestamp(6) NOT NULL, "status" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "reservations" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "reservations" ("id" bigserial primary key, "code" character varying NOT NULL, "guest_id" integer NOT NULL, "room_id" integer NOT NULL, "check_in" date NOT NULL, "check_out" date NOT NULL, "status" integer NOT NULL, "adults" integer NOT NULL, "children" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" bigserial primary key, "number" character varying NOT NULL, "room_type" integer NOT NULL, "price" integer NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "service_usages" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "service_usages" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "service_id" integer NOT NULL, "quantity" integer NOT NULL, "used_at" timestamp(6) NOT NULL, "note" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "name" character varying NOT NULL, "price" integer NOT NULL, "is_active" boolean NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250905172800) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20250905171952),
(20250905170817),
(20250905165941),
(20250904214231),
(20250904212511); /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.9ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-09-05 18:31:13.253485', '2025-09-05 18:31:13.253487') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '8bd4548db056584c2f465d6f79344eaa19b265d7', '2025-09-05 18:31:13.258745', '2025-09-05 18:31:13.258746') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (9.6ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "guests" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "guests" ("id" bigserial primary key, "first_name" character varying NOT NULL, "last_name" character varying NOT NULL, "email" character varying NOT NULL, "phone" character varying NOT NULL, "document_id" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "invoices" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "invoices" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "nights_subtotal" integer NOT NULL, "services_subtotal" integer, "tax" integer NOT NULL, "total" integer NOT NULL, "issued_at" timestamp(6) NOT NULL, "status" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "reservations" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "reservations" ("id" bigserial primary key, "code" character varying NOT NULL, "guest_id" integer NOT NULL, "room_id" integer NOT NULL, "check_in" date NOT NULL, "check_out" date NOT NULL, "status" integer NOT NULL, "adults" integer NOT NULL, "children" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" bigserial primary key, "number" character varying NOT NULL, "room_type" integer NOT NULL, "price" integer NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "service_usages" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "service_usages" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "service_id" integer NOT NULL, "quantity" integer NOT NULL, "used_at" timestamp(6) NOT NULL, "note" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "name" character varying NOT NULL, "price" integer NOT NULL, "is_active" boolean NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250905172800) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20250905171952),
(20250905170817),
(20250905165941),
(20250904214231),
(20250904212511); /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-09-05 18:31:13.315397', '2025-09-05 18:31:13.315399') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.8ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2025-09-05 18:31:13.318251' WHERE "ar_internal_metadata"."key" = 'environment' /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '8bd4548db056584c2f465d6f79344eaa19b265d7', '2025-09-05 18:31:13.320576', '2025-09-05 18:31:13.320577') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mGuest Create (1.8ms)[0m  [1m[32mINSERT INTO "guests" ("first_name", "last_name", "email", "phone", "document_id", "created_at", "updated_at") VALUES ('Andres', 'Howard', 'aihoward@miuandes.cl', '900001111', '99999999k', '2025-09-05 18:31:13.377434', '2025-09-05 18:31:13.377434') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mGuest Create (1.0ms)[0m  [1m[32mINSERT INTO "guests" ("first_name", "last_name", "email", "phone", "document_id", "created_at", "updated_at") VALUES ('Elvis', 'Tec', 'test@test.com', '912345678', '141414142', '2025-09-05 18:31:13.392413', '2025-09-05 18:31:13.392413') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mRoom Create (1.3ms)[0m  [1m[32mINSERT INTO "rooms" ("number", "room_type", "price", "status", "created_at", "updated_at") VALUES ('101', 1, 1000, 1, '2025-09-05 18:31:13.413536', '2025-09-05 18:31:13.413536') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mRoom Create (1.2ms)[0m  [1m[32mINSERT INTO "rooms" ("number", "room_type", "price", "status", "created_at", "updated_at") VALUES ('201', 2, 2000, 2, '2025-09-05 18:31:13.420100', '2025-09-05 18:31:13.420100') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mRoom Create (1.0ms)[0m  [1m[32mINSERT INTO "rooms" ("number", "room_type", "price", "status", "created_at", "updated_at") VALUES ('301', 3, 3000, 3, '2025-09-05 18:31:13.429019', '2025-09-05 18:31:13.429019') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mService Create (1.6ms)[0m  [1m[32mINSERT INTO "services" ("name", "price", "is_active", "created_at", "updated_at") VALUES ('Laundry', 20, TRUE, '2025-09-05 18:31:13.444805', '2025-09-05 18:31:13.444805') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mService Create (1.1ms)[0m  [1m[32mINSERT INTO "services" ("name", "price", "is_active", "created_at", "updated_at") VALUES ('Spa', 15, FALSE, '2025-09-05 18:31:13.469522', '2025-09-05 18:31:13.469522') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mReservation Create (1.4ms)[0m  [1m[32mINSERT INTO "reservations" ("code", "guest_id", "room_id", "check_in", "check_out", "status", "adults", "children", "created_at", "updated_at") VALUES ('code1', 1, 1, '2025-09-01', '2025-09-15', 1, 1, 2, '2025-09-05 18:31:13.486769', '2025-09-05 18:31:13.486769') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mReservation Create (0.9ms)[0m  [1m[32mINSERT INTO "reservations" ("code", "guest_id", "room_id", "check_in", "check_out", "status", "adults", "children", "created_at", "updated_at") VALUES ('code2', 2, 3, '1995-12-21', '9999-12-31', 1, 1, NULL, '2025-09-05 18:31:13.495569', '2025-09-05 18:31:13.495569') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mServiceUsage Create (1.4ms)[0m  [1m[32mINSERT INTO "service_usages" ("reservation_id", "service_id", "quantity", "used_at", "note", "created_at", "updated_at") VALUES (1, 1, 2, '2025-09-10 10:00:00', '2 Shirts and 4 pants', '2025-09-05 18:31:13.511596', '2025-09-05 18:31:13.511596') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (44.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "lab_03_v2_juan_cabello_vargas_development" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (2.5ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (39.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "lab_03_v2_juan_cabello_vargas_test" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (38.7ms)[0m  [1m[35mCREATE DATABASE "lab_03_v2_juan_cabello_vargas_development" ENCODING = 'unicode' /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (43.1ms)[0m  [1m[35mCREATE DATABASE "lab_03_v2_juan_cabello_vargas_test" ENCODING = 'unicode' /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (14.7ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "guests" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "guests" ("id" bigserial primary key, "first_name" character varying NOT NULL, "last_name" character varying NOT NULL, "email" character varying NOT NULL, "phone" character varying NOT NULL, "document_id" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "invoices" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "invoices" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "nights_subtotal" integer NOT NULL, "services_subtotal" integer, "tax" integer NOT NULL, "total" integer NOT NULL, "issued_at" timestamp(6) NOT NULL, "status" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "reservations" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "reservations" ("id" bigserial primary key, "code" character varying NOT NULL, "guest_id" integer NOT NULL, "room_id" integer NOT NULL, "check_in" date NOT NULL, "check_out" date NOT NULL, "status" integer NOT NULL, "adults" integer NOT NULL, "children" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" bigserial primary key, "number" character varying NOT NULL, "room_type" integer NOT NULL, "price" integer NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "service_usages" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "service_usages" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "service_id" integer NOT NULL, "quantity" integer NOT NULL, "used_at" timestamp(6) NOT NULL, "note" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "name" character varying NOT NULL, "price" integer NOT NULL, "is_active" boolean NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250905172800) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20250905171952),
(20250905170817),
(20250905165941),
(20250904214231),
(20250904212511); /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-09-05 18:32:53.468193', '2025-09-05 18:32:53.468194') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '8bd4548db056584c2f465d6f79344eaa19b265d7', '2025-09-05 18:32:53.473010', '2025-09-05 18:32:53.473011') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (6.9ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "guests" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "guests" ("id" bigserial primary key, "first_name" character varying NOT NULL, "last_name" character varying NOT NULL, "email" character varying NOT NULL, "phone" character varying NOT NULL, "document_id" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "invoices" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "invoices" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "nights_subtotal" integer NOT NULL, "services_subtotal" integer, "tax" integer NOT NULL, "total" integer NOT NULL, "issued_at" timestamp(6) NOT NULL, "status" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "reservations" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "reservations" ("id" bigserial primary key, "code" character varying NOT NULL, "guest_id" integer NOT NULL, "room_id" integer NOT NULL, "check_in" date NOT NULL, "check_out" date NOT NULL, "status" integer NOT NULL, "adults" integer NOT NULL, "children" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" bigserial primary key, "number" character varying NOT NULL, "room_type" integer NOT NULL, "price" integer NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "service_usages" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "service_usages" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "service_id" integer NOT NULL, "quantity" integer NOT NULL, "used_at" timestamp(6) NOT NULL, "note" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "name" character varying NOT NULL, "price" integer NOT NULL, "is_active" boolean NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250905172800) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20250905171952),
(20250905170817),
(20250905165941),
(20250904214231),
(20250904212511); /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-09-05 18:32:53.512760', '2025-09-05 18:32:53.512762') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.6ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2025-09-05 18:32:53.515350' WHERE "ar_internal_metadata"."key" = 'environment' /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '8bd4548db056584c2f465d6f79344eaa19b265d7', '2025-09-05 18:32:53.517521', '2025-09-05 18:32:53.517523') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mGuest Create (2.1ms)[0m  [1m[32mINSERT INTO "guests" ("first_name", "last_name", "email", "phone", "document_id", "created_at", "updated_at") VALUES ('Andres', 'Howard', 'aihoward@miuandes.cl', '900001111', '99999999k', '2025-09-05 18:32:53.573779', '2025-09-05 18:32:53.573779') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mGuest Create (1.0ms)[0m  [1m[32mINSERT INTO "guests" ("first_name", "last_name", "email", "phone", "document_id", "created_at", "updated_at") VALUES ('Elvis', 'Tec', 'test@test.com', '912345678', '141414142', '2025-09-05 18:32:53.589219', '2025-09-05 18:32:53.589219') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mRoom Create (1.1ms)[0m  [1m[32mINSERT INTO "rooms" ("number", "room_type", "price", "status", "created_at", "updated_at") VALUES ('101', 1, 1000, 1, '2025-09-05 18:32:53.610423', '2025-09-05 18:32:53.610423') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mRoom Create (0.9ms)[0m  [1m[32mINSERT INTO "rooms" ("number", "room_type", "price", "status", "created_at", "updated_at") VALUES ('201', 2, 2000, 2, '2025-09-05 18:32:53.616821', '2025-09-05 18:32:53.616821') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mRoom Create (0.7ms)[0m  [1m[32mINSERT INTO "rooms" ("number", "room_type", "price", "status", "created_at", "updated_at") VALUES ('301', 3, 3000, 3, '2025-09-05 18:32:53.624564', '2025-09-05 18:32:53.624564') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mService Create (1.3ms)[0m  [1m[32mINSERT INTO "services" ("name", "price", "is_active", "created_at", "updated_at") VALUES ('Laundry', 20, TRUE, '2025-09-05 18:32:53.639076', '2025-09-05 18:32:53.639076') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mService Create (1.0ms)[0m  [1m[32mINSERT INTO "services" ("name", "price", "is_active", "created_at", "updated_at") VALUES ('Spa', 15, FALSE, '2025-09-05 18:32:53.664893', '2025-09-05 18:32:53.664893') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mReservation Create (2.6ms)[0m  [1m[32mINSERT INTO "reservations" ("code", "guest_id", "room_id", "check_in", "check_out", "status", "adults", "children", "created_at", "updated_at") VALUES ('code1', 1, 1, '2025-09-01', '2025-09-15', 1, 1, 2, '2025-09-05 18:32:53.682175', '2025-09-05 18:32:53.682175') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mReservation Create (1.0ms)[0m  [1m[32mINSERT INTO "reservations" ("code", "guest_id", "room_id", "check_in", "check_out", "status", "adults", "children", "created_at", "updated_at") VALUES ('code2', 2, 3, '1995-12-21', '9999-12-31', 1, 1, NULL, '2025-09-05 18:32:53.690944', '2025-09-05 18:32:53.690944') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mServiceUsage Create (1.4ms)[0m  [1m[32mINSERT INTO "service_usages" ("reservation_id", "service_id", "quantity", "used_at", "note", "created_at", "updated_at") VALUES (1, 1, 2, '2025-09-10 10:00:00', '2 Shirts and 4 pants', '2025-09-05 18:32:53.708090', '2025-09-05 18:32:53.708090') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mServiceUsage Create (0.9ms)[0m  [1m[32mINSERT INTO "service_usages" ("reservation_id", "service_id", "quantity", "used_at", "note", "created_at", "updated_at") VALUES (1, 2, 1, '2004-10-12 05:00:00', '1 hour session', '2025-09-05 18:32:53.717301', '2025-09-05 18:32:53.717301') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (34.4ms)[0m  [1m[35mDROP DATABASE IF EXISTS "lab_03_v2_juan_cabello_vargas_development" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (1.4ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (30.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "lab_03_v2_juan_cabello_vargas_test" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (42.8ms)[0m  [1m[35mCREATE DATABASE "lab_03_v2_juan_cabello_vargas_development" ENCODING = 'unicode' /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (28.8ms)[0m  [1m[35mCREATE DATABASE "lab_03_v2_juan_cabello_vargas_test" ENCODING = 'unicode' /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (11.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "guests" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "guests" ("id" bigserial primary key, "first_name" character varying NOT NULL, "last_name" character varying NOT NULL, "email" character varying NOT NULL, "phone" character varying NOT NULL, "document_id" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "invoices" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "invoices" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "nights_subtotal" integer NOT NULL, "services_subtotal" integer, "tax" integer NOT NULL, "total" integer NOT NULL, "issued_at" timestamp(6) NOT NULL, "status" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "reservations" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "reservations" ("id" bigserial primary key, "code" character varying NOT NULL, "guest_id" integer NOT NULL, "room_id" integer NOT NULL, "check_in" date NOT NULL, "check_out" date NOT NULL, "status" integer NOT NULL, "adults" integer NOT NULL, "children" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" bigserial primary key, "number" character varying NOT NULL, "room_type" integer NOT NULL, "price" integer NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "service_usages" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "service_usages" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "service_id" integer NOT NULL, "quantity" integer NOT NULL, "used_at" timestamp(6) NOT NULL, "note" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "name" character varying NOT NULL, "price" integer NOT NULL, "is_active" boolean NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250905172800) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20250905171952),
(20250905170817),
(20250905165941),
(20250904214231),
(20250904212511); /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-09-05 18:59:16.924652', '2025-09-05 18:59:16.924655') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '8bd4548db056584c2f465d6f79344eaa19b265d7', '2025-09-05 18:59:16.930013', '2025-09-05 18:59:16.930014') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (8.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "guests" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "guests" ("id" bigserial primary key, "first_name" character varying NOT NULL, "last_name" character varying NOT NULL, "email" character varying NOT NULL, "phone" character varying NOT NULL, "document_id" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "invoices" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "invoices" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "nights_subtotal" integer NOT NULL, "services_subtotal" integer, "tax" integer NOT NULL, "total" integer NOT NULL, "issued_at" timestamp(6) NOT NULL, "status" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "reservations" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "reservations" ("id" bigserial primary key, "code" character varying NOT NULL, "guest_id" integer NOT NULL, "room_id" integer NOT NULL, "check_in" date NOT NULL, "check_out" date NOT NULL, "status" integer NOT NULL, "adults" integer NOT NULL, "children" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" bigserial primary key, "number" character varying NOT NULL, "room_type" integer NOT NULL, "price" integer NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "service_usages" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "service_usages" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "service_id" integer NOT NULL, "quantity" integer NOT NULL, "used_at" timestamp(6) NOT NULL, "note" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "name" character varying NOT NULL, "price" integer NOT NULL, "is_active" boolean NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250905172800) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20250905171952),
(20250905170817),
(20250905165941),
(20250904214231),
(20250904212511); /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-09-05 18:59:16.982912', '2025-09-05 18:59:16.982914') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.6ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2025-09-05 18:59:16.984966' WHERE "ar_internal_metadata"."key" = 'environment' /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '8bd4548db056584c2f465d6f79344eaa19b265d7', '2025-09-05 18:59:16.986761', '2025-09-05 18:59:16.986762') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mGuest Create (1.7ms)[0m  [1m[32mINSERT INTO "guests" ("first_name", "last_name", "email", "phone", "document_id", "created_at", "updated_at") VALUES ('Andres', 'Howard', 'aihoward@miuandes.cl', '900001111', '99999999k', '2025-09-05 18:59:17.042023', '2025-09-05 18:59:17.042023') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mGuest Create (0.7ms)[0m  [1m[32mINSERT INTO "guests" ("first_name", "last_name", "email", "phone", "document_id", "created_at", "updated_at") VALUES ('Elvis', 'Tec', 'test@test.com', '912345678', '141414142', '2025-09-05 18:59:17.056822', '2025-09-05 18:59:17.056822') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mRoom Create (1.2ms)[0m  [1m[32mINSERT INTO "rooms" ("number", "room_type", "price", "status", "created_at", "updated_at") VALUES ('101', 1, 1000, 1, '2025-09-05 18:59:17.077604', '2025-09-05 18:59:17.077604') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mRoom Create (1.2ms)[0m  [1m[32mINSERT INTO "rooms" ("number", "room_type", "price", "status", "created_at", "updated_at") VALUES ('201', 2, 2000, 2, '2025-09-05 18:59:17.084034', '2025-09-05 18:59:17.084034') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mRoom Create (0.8ms)[0m  [1m[32mINSERT INTO "rooms" ("number", "room_type", "price", "status", "created_at", "updated_at") VALUES ('301', 3, 3000, 3, '2025-09-05 18:59:17.092530', '2025-09-05 18:59:17.092530') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mService Create (1.6ms)[0m  [1m[32mINSERT INTO "services" ("name", "price", "is_active", "created_at", "updated_at") VALUES ('Laundry', 20, TRUE, '2025-09-05 18:59:17.113989', '2025-09-05 18:59:17.113989') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mService Create (1.0ms)[0m  [1m[32mINSERT INTO "services" ("name", "price", "is_active", "created_at", "updated_at") VALUES ('Spa', 15, FALSE, '2025-09-05 18:59:17.138304', '2025-09-05 18:59:17.138304') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mReservation Create (1.3ms)[0m  [1m[32mINSERT INTO "reservations" ("code", "guest_id", "room_id", "check_in", "check_out", "status", "adults", "children", "created_at", "updated_at") VALUES ('code1', 1, 1, '2025-09-01', '2025-09-15', 1, 1, 2, '2025-09-05 18:59:17.156512', '2025-09-05 18:59:17.156512') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mReservation Create (1.0ms)[0m  [1m[32mINSERT INTO "reservations" ("code", "guest_id", "room_id", "check_in", "check_out", "status", "adults", "children", "created_at", "updated_at") VALUES ('code2', 2, 3, '1995-12-21', '2025-12-31', 1, 1, NULL, '2025-09-05 18:59:17.164639', '2025-09-05 18:59:17.164639') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mServiceUsage Create (2.3ms)[0m  [1m[32mINSERT INTO "service_usages" ("reservation_id", "service_id", "quantity", "used_at", "note", "created_at", "updated_at") VALUES (1, 1, 2, '2025-09-10 10:00:00', '2 Shirts and 4 pants', '2025-09-05 18:59:17.183370', '2025-09-05 18:59:17.183370') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mServiceUsage Create (0.8ms)[0m  [1m[32mINSERT INTO "service_usages" ("reservation_id", "service_id", "quantity", "used_at", "note", "created_at", "updated_at") VALUES (2, 2, 1, '2004-10-12 05:00:00', '1 hour session', '2025-09-05 18:59:17.193001', '2025-09-05 18:59:17.193001') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (37.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "lab_03_v2_juan_cabello_vargas_development" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (2.4ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (51.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "lab_03_v2_juan_cabello_vargas_test" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (41.5ms)[0m  [1m[35mCREATE DATABASE "lab_03_v2_juan_cabello_vargas_development" ENCODING = 'unicode' /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (25.1ms)[0m  [1m[35mCREATE DATABASE "lab_03_v2_juan_cabello_vargas_test" ENCODING = 'unicode' /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (13.7ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "guests" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "guests" ("id" bigserial primary key, "first_name" character varying NOT NULL, "last_name" character varying NOT NULL, "email" character varying NOT NULL, "phone" character varying NOT NULL, "document_id" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "invoices" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "invoices" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "nights_subtotal" integer NOT NULL, "services_subtotal" integer, "tax" integer NOT NULL, "total" integer NOT NULL, "issued_at" timestamp(6) NOT NULL, "status" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "reservations" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "reservations" ("id" bigserial primary key, "code" character varying NOT NULL, "guest_id" integer NOT NULL, "room_id" integer NOT NULL, "check_in" date NOT NULL, "check_out" date NOT NULL, "status" integer NOT NULL, "adults" integer NOT NULL, "children" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" bigserial primary key, "number" character varying NOT NULL, "room_type" integer NOT NULL, "price" integer NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "service_usages" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "service_usages" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "service_id" integer NOT NULL, "quantity" integer NOT NULL, "used_at" timestamp(6) NOT NULL, "note" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "name" character varying NOT NULL, "price" integer NOT NULL, "is_active" boolean NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250905172800) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20250905171952),
(20250905170817),
(20250905165941),
(20250904214231),
(20250904212511); /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-09-05 19:02:28.436794', '2025-09-05 19:02:28.436796') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '8bd4548db056584c2f465d6f79344eaa19b265d7', '2025-09-05 19:02:28.441629', '2025-09-05 19:02:28.441630') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (6.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "guests" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "guests" ("id" bigserial primary key, "first_name" character varying NOT NULL, "last_name" character varying NOT NULL, "email" character varying NOT NULL, "phone" character varying NOT NULL, "document_id" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "invoices" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "invoices" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "nights_subtotal" integer NOT NULL, "services_subtotal" integer, "tax" integer NOT NULL, "total" integer NOT NULL, "issued_at" timestamp(6) NOT NULL, "status" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "reservations" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "reservations" ("id" bigserial primary key, "code" character varying NOT NULL, "guest_id" integer NOT NULL, "room_id" integer NOT NULL, "check_in" date NOT NULL, "check_out" date NOT NULL, "status" integer NOT NULL, "adults" integer NOT NULL, "children" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" bigserial primary key, "number" character varying NOT NULL, "room_type" integer NOT NULL, "price" integer NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "service_usages" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "service_usages" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "service_id" integer NOT NULL, "quantity" integer NOT NULL, "used_at" timestamp(6) NOT NULL, "note" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "name" character varying NOT NULL, "price" integer NOT NULL, "is_active" boolean NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250905172800) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20250905171952),
(20250905170817),
(20250905165941),
(20250904214231),
(20250904212511); /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-09-05 19:02:28.479184', '2025-09-05 19:02:28.479186') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.6ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2025-09-05 19:02:28.481148' WHERE "ar_internal_metadata"."key" = 'environment' /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '8bd4548db056584c2f465d6f79344eaa19b265d7', '2025-09-05 19:02:28.482872', '2025-09-05 19:02:28.482872') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mGuest Create (1.9ms)[0m  [1m[32mINSERT INTO "guests" ("first_name", "last_name", "email", "phone", "document_id", "created_at", "updated_at") VALUES ('Andres', 'Howard', 'aihoward@miuandes.cl', '900001111', '99999999k', '2025-09-05 19:02:28.543600', '2025-09-05 19:02:28.543600') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mGuest Create (0.9ms)[0m  [1m[32mINSERT INTO "guests" ("first_name", "last_name", "email", "phone", "document_id", "created_at", "updated_at") VALUES ('Elvis', 'Tec', 'test@test.com', '912345678', '141414142', '2025-09-05 19:02:28.558563', '2025-09-05 19:02:28.558563') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mRoom Create (1.2ms)[0m  [1m[32mINSERT INTO "rooms" ("number", "room_type", "price", "status", "created_at", "updated_at") VALUES ('101', 1, 1000, 1, '2025-09-05 19:02:28.580341', '2025-09-05 19:02:28.580341') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mRoom Create (1.1ms)[0m  [1m[32mINSERT INTO "rooms" ("number", "room_type", "price", "status", "created_at", "updated_at") VALUES ('201', 2, 2000, 2, '2025-09-05 19:02:28.586566', '2025-09-05 19:02:28.586566') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mRoom Create (1.0ms)[0m  [1m[32mINSERT INTO "rooms" ("number", "room_type", "price", "status", "created_at", "updated_at") VALUES ('301', 3, 3000, 3, '2025-09-05 19:02:28.594999', '2025-09-05 19:02:28.594999') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mService Create (1.4ms)[0m  [1m[32mINSERT INTO "services" ("name", "price", "is_active", "created_at", "updated_at") VALUES ('Laundry', 20, TRUE, '2025-09-05 19:02:28.609792', '2025-09-05 19:02:28.609792') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mService Create (1.1ms)[0m  [1m[32mINSERT INTO "services" ("name", "price", "is_active", "created_at", "updated_at") VALUES ('Spa', 15, FALSE, '2025-09-05 19:02:28.617271', '2025-09-05 19:02:28.617271') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mReservation Create (1.6ms)[0m  [1m[32mINSERT INTO "reservations" ("code", "guest_id", "room_id", "check_in", "check_out", "status", "adults", "children", "created_at", "updated_at") VALUES ('code1', 1, 1, '2025-09-01', '2025-09-15', 1, 1, 2, '2025-09-05 19:02:28.636143', '2025-09-05 19:02:28.636143') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mReservation Create (1.3ms)[0m  [1m[32mINSERT INTO "reservations" ("code", "guest_id", "room_id", "check_in", "check_out", "status", "adults", "children", "created_at", "updated_at") VALUES ('code2', 2, 3, '1995-12-21', '2025-12-31', 1, 1, NULL, '2025-09-05 19:02:28.644977', '2025-09-05 19:02:28.644977') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mServiceUsage Create (1.5ms)[0m  [1m[32mINSERT INTO "service_usages" ("reservation_id", "service_id", "quantity", "used_at", "note", "created_at", "updated_at") VALUES (1, 1, 2, '2025-09-10 10:00:00', '2 Shirts and 4 pants', '2025-09-05 19:02:28.666204', '2025-09-05 19:02:28.666204') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mServiceUsage Create (0.7ms)[0m  [1m[32mINSERT INTO "service_usages" ("reservation_id", "service_id", "quantity", "used_at", "note", "created_at", "updated_at") VALUES (2, 2, 1, '2004-10-12 05:00:00', '1 hour session', '2025-09-05 19:02:28.674732', '2025-09-05 19:02:28.674732') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (53.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "lab_03_v2_juan_cabello_vargas_development" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (2.2ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (38.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "lab_03_v2_juan_cabello_vargas_test" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (41.6ms)[0m  [1m[35mCREATE DATABASE "lab_03_v2_juan_cabello_vargas_development" ENCODING = 'unicode' /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (29.8ms)[0m  [1m[35mCREATE DATABASE "lab_03_v2_juan_cabello_vargas_test" ENCODING = 'unicode' /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (20.8ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "guests" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "guests" ("id" bigserial primary key, "first_name" character varying NOT NULL, "last_name" character varying NOT NULL, "email" character varying NOT NULL, "phone" character varying NOT NULL, "document_id" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "invoices" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "invoices" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "nights_subtotal" integer NOT NULL, "services_subtotal" integer, "tax" integer NOT NULL, "total" integer NOT NULL, "issued_at" timestamp(6) NOT NULL, "status" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "reservations" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "reservations" ("id" bigserial primary key, "code" character varying NOT NULL, "guest_id" integer NOT NULL, "room_id" integer NOT NULL, "check_in" date NOT NULL, "check_out" date NOT NULL, "status" integer NOT NULL, "adults" integer NOT NULL, "children" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" bigserial primary key, "number" character varying NOT NULL, "room_type" integer NOT NULL, "price" integer NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "service_usages" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "service_usages" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "service_id" integer NOT NULL, "quantity" integer NOT NULL, "used_at" timestamp(6) NOT NULL, "note" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "name" character varying NOT NULL, "price" integer NOT NULL, "is_active" boolean NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250905172800) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20250905171952),
(20250905170817),
(20250905165941),
(20250904214231),
(20250904212511); /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-09-05 19:03:00.869995', '2025-09-05 19:03:00.869996') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '8bd4548db056584c2f465d6f79344eaa19b265d7', '2025-09-05 19:03:00.874898', '2025-09-05 19:03:00.874900') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (10.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "guests" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "guests" ("id" bigserial primary key, "first_name" character varying NOT NULL, "last_name" character varying NOT NULL, "email" character varying NOT NULL, "phone" character varying NOT NULL, "document_id" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "invoices" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "invoices" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "nights_subtotal" integer NOT NULL, "services_subtotal" integer, "tax" integer NOT NULL, "total" integer NOT NULL, "issued_at" timestamp(6) NOT NULL, "status" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "reservations" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "reservations" ("id" bigserial primary key, "code" character varying NOT NULL, "guest_id" integer NOT NULL, "room_id" integer NOT NULL, "check_in" date NOT NULL, "check_out" date NOT NULL, "status" integer NOT NULL, "adults" integer NOT NULL, "children" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" bigserial primary key, "number" character varying NOT NULL, "room_type" integer NOT NULL, "price" integer NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "service_usages" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "service_usages" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "service_id" integer NOT NULL, "quantity" integer NOT NULL, "used_at" timestamp(6) NOT NULL, "note" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "name" character varying NOT NULL, "price" integer NOT NULL, "is_active" boolean NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250905172800) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20250905171952),
(20250905170817),
(20250905165941),
(20250904214231),
(20250904212511); /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-09-05 19:03:00.940032', '2025-09-05 19:03:00.940033') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.7ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2025-09-05 19:03:00.943243' WHERE "ar_internal_metadata"."key" = 'environment' /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '8bd4548db056584c2f465d6f79344eaa19b265d7', '2025-09-05 19:03:00.945622', '2025-09-05 19:03:00.945623') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mGuest Create (1.8ms)[0m  [1m[32mINSERT INTO "guests" ("first_name", "last_name", "email", "phone", "document_id", "created_at", "updated_at") VALUES ('Andres', 'Howard', 'aihoward@miuandes.cl', '900001111', '99999999k', '2025-09-05 19:03:01.015395', '2025-09-05 19:03:01.015395') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mGuest Create (0.9ms)[0m  [1m[32mINSERT INTO "guests" ("first_name", "last_name", "email", "phone", "document_id", "created_at", "updated_at") VALUES ('Elvis', 'Tec', 'test@test.com', '912345678', '141414142', '2025-09-05 19:03:01.030537', '2025-09-05 19:03:01.030537') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mRoom Create (1.2ms)[0m  [1m[32mINSERT INTO "rooms" ("number", "room_type", "price", "status", "created_at", "updated_at") VALUES ('101', 1, 1000, 1, '2025-09-05 19:03:01.051892', '2025-09-05 19:03:01.051892') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mRoom Create (1.1ms)[0m  [1m[32mINSERT INTO "rooms" ("number", "room_type", "price", "status", "created_at", "updated_at") VALUES ('201', 2, 2000, 2, '2025-09-05 19:03:01.058415', '2025-09-05 19:03:01.058415') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mRoom Create (1.0ms)[0m  [1m[32mINSERT INTO "rooms" ("number", "room_type", "price", "status", "created_at", "updated_at") VALUES ('301', 3, 3000, 3, '2025-09-05 19:03:01.066963', '2025-09-05 19:03:01.066963') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mService Create (1.3ms)[0m  [1m[32mINSERT INTO "services" ("name", "price", "is_active", "created_at", "updated_at") VALUES ('Laundry', 20, TRUE, '2025-09-05 19:03:01.083171', '2025-09-05 19:03:01.083171') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mService Create (1.0ms)[0m  [1m[32mINSERT INTO "services" ("name", "price", "is_active", "created_at", "updated_at") VALUES ('Spa', 15, FALSE, '2025-09-05 19:03:01.107336', '2025-09-05 19:03:01.107336') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mReservation Create (2.5ms)[0m  [1m[32mINSERT INTO "reservations" ("code", "guest_id", "room_id", "check_in", "check_out", "status", "adults", "children", "created_at", "updated_at") VALUES ('code1', 1, 1, '2025-09-01', '2025-09-15', 1, 1, 2, '2025-09-05 19:03:01.124407', '2025-09-05 19:03:01.124407') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mReservation Create (0.9ms)[0m  [1m[32mINSERT INTO "reservations" ("code", "guest_id", "room_id", "check_in", "check_out", "status", "adults", "children", "created_at", "updated_at") VALUES ('code2', 2, 3, '1995-12-21', '2025-12-31', 1, 1, NULL, '2025-09-05 19:03:01.133370', '2025-09-05 19:03:01.133370') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mServiceUsage Create (1.5ms)[0m  [1m[32mINSERT INTO "service_usages" ("reservation_id", "service_id", "quantity", "used_at", "note", "created_at", "updated_at") VALUES (1, 1, 2, '2025-09-10 10:00:00', '2 Shirts and 4 pants', '2025-09-05 19:03:01.150775', '2025-09-05 19:03:01.150775') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mServiceUsage Create (1.0ms)[0m  [1m[32mINSERT INTO "service_usages" ("reservation_id", "service_id", "quantity", "used_at", "note", "created_at", "updated_at") VALUES (2, 2, 1, '2004-10-12 05:00:00', '1 hour session', '2025-09-05 19:03:01.159353', '2025-09-05 19:03:01.159353') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (36.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "lab_03_v2_juan_cabello_vargas_development" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (2.1ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (47.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "lab_03_v2_juan_cabello_vargas_test" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (42.6ms)[0m  [1m[35mCREATE DATABASE "lab_03_v2_juan_cabello_vargas_development" ENCODING = 'unicode' /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (30.1ms)[0m  [1m[35mCREATE DATABASE "lab_03_v2_juan_cabello_vargas_test" ENCODING = 'unicode' /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (8.6ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "guests" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "guests" ("id" bigserial primary key, "first_name" character varying NOT NULL, "last_name" character varying NOT NULL, "email" character varying NOT NULL, "phone" character varying NOT NULL, "document_id" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "invoices" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "invoices" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "nights_subtotal" integer NOT NULL, "services_subtotal" integer, "tax" integer NOT NULL, "total" integer NOT NULL, "issued_at" timestamp(6) NOT NULL, "status" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "reservations" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "reservations" ("id" bigserial primary key, "code" character varying NOT NULL, "guest_id" integer NOT NULL, "room_id" integer NOT NULL, "check_in" date NOT NULL, "check_out" date NOT NULL, "status" integer NOT NULL, "adults" integer NOT NULL, "children" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" bigserial primary key, "number" character varying NOT NULL, "room_type" integer NOT NULL, "price" integer NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "service_usages" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "service_usages" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "service_id" integer NOT NULL, "quantity" integer NOT NULL, "used_at" timestamp(6) NOT NULL, "note" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "name" character varying NOT NULL, "price" integer NOT NULL, "is_active" boolean NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250905172800) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20250905171952),
(20250905170817),
(20250905165941),
(20250904214231),
(20250904212511); /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.7ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-09-05 19:11:37.879065', '2025-09-05 19:11:37.879067') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '8bd4548db056584c2f465d6f79344eaa19b265d7', '2025-09-05 19:11:37.883963', '2025-09-05 19:11:37.883965') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (6.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "guests" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "guests" ("id" bigserial primary key, "first_name" character varying NOT NULL, "last_name" character varying NOT NULL, "email" character varying NOT NULL, "phone" character varying NOT NULL, "document_id" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "invoices" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "invoices" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "nights_subtotal" integer NOT NULL, "services_subtotal" integer, "tax" integer NOT NULL, "total" integer NOT NULL, "issued_at" timestamp(6) NOT NULL, "status" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "reservations" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "reservations" ("id" bigserial primary key, "code" character varying NOT NULL, "guest_id" integer NOT NULL, "room_id" integer NOT NULL, "check_in" date NOT NULL, "check_out" date NOT NULL, "status" integer NOT NULL, "adults" integer NOT NULL, "children" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" bigserial primary key, "number" character varying NOT NULL, "room_type" integer NOT NULL, "price" integer NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "service_usages" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "service_usages" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "service_id" integer NOT NULL, "quantity" integer NOT NULL, "used_at" timestamp(6) NOT NULL, "note" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "name" character varying NOT NULL, "price" integer NOT NULL, "is_active" boolean NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250905172800) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20250905171952),
(20250905170817),
(20250905165941),
(20250904214231),
(20250904212511); /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-09-05 19:11:37.919391', '2025-09-05 19:11:37.919392') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.6ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2025-09-05 19:11:37.921174' WHERE "ar_internal_metadata"."key" = 'environment' /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '8bd4548db056584c2f465d6f79344eaa19b265d7', '2025-09-05 19:11:37.923059', '2025-09-05 19:11:37.923060') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mGuest Create (2.0ms)[0m  [1m[32mINSERT INTO "guests" ("first_name", "last_name", "email", "phone", "document_id", "created_at", "updated_at") VALUES ('Andres', 'Howard', 'aihoward@miuandes.cl', '900001111', '99999999k', '2025-09-05 19:11:37.977521', '2025-09-05 19:11:37.977521') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mGuest Create (1.0ms)[0m  [1m[32mINSERT INTO "guests" ("first_name", "last_name", "email", "phone", "document_id", "created_at", "updated_at") VALUES ('Elvis', 'Tec', 'test@test.com', '912345678', '141414142', '2025-09-05 19:11:37.992958', '2025-09-05 19:11:37.992958') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mRoom Create (1.0ms)[0m  [1m[32mINSERT INTO "rooms" ("number", "room_type", "price", "status", "created_at", "updated_at") VALUES ('101', 1, 1000, 1, '2025-09-05 19:11:38.014346', '2025-09-05 19:11:38.014346') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mRoom Create (1.0ms)[0m  [1m[32mINSERT INTO "rooms" ("number", "room_type", "price", "status", "created_at", "updated_at") VALUES ('201', 2, 2000, 2, '2025-09-05 19:11:38.020413', '2025-09-05 19:11:38.020413') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mRoom Create (0.8ms)[0m  [1m[32mINSERT INTO "rooms" ("number", "room_type", "price", "status", "created_at", "updated_at") VALUES ('301', 3, 3000, 3, '2025-09-05 19:11:38.028586', '2025-09-05 19:11:38.028586') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mService Create (1.4ms)[0m  [1m[32mINSERT INTO "services" ("name", "price", "is_active", "created_at", "updated_at") VALUES ('Laundry', 20, TRUE, '2025-09-05 19:11:38.047631', '2025-09-05 19:11:38.047631') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mService Create (1.3ms)[0m  [1m[32mINSERT INTO "services" ("name", "price", "is_active", "created_at", "updated_at") VALUES ('Spa', 15, FALSE, '2025-09-05 19:11:38.056353', '2025-09-05 19:11:38.056353') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mReservation Create (1.5ms)[0m  [1m[32mINSERT INTO "reservations" ("code", "guest_id", "room_id", "check_in", "check_out", "status", "adults", "children", "created_at", "updated_at") VALUES ('code1', 1, 1, '2025-09-01', '2025-09-15', 1, 1, 2, '2025-09-05 19:11:38.075494', '2025-09-05 19:11:38.075494') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mReservation Create (1.0ms)[0m  [1m[32mINSERT INTO "reservations" ("code", "guest_id", "room_id", "check_in", "check_out", "status", "adults", "children", "created_at", "updated_at") VALUES ('code2', 2, 3, '1995-12-21', '2025-12-31', 1, 1, NULL, '2025-09-05 19:11:38.083036', '2025-09-05 19:11:38.083036') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mServiceUsage Create (1.6ms)[0m  [1m[32mINSERT INTO "service_usages" ("reservation_id", "service_id", "quantity", "used_at", "note", "created_at", "updated_at") VALUES (1, 1, 2, '2025-09-10 10:00:00', '2 Shirts and 4 pants', '2025-09-05 19:11:38.098627', '2025-09-05 19:11:38.098627') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mServiceUsage Create (1.1ms)[0m  [1m[32mINSERT INTO "service_usages" ("reservation_id", "service_id", "quantity", "used_at", "note", "created_at", "updated_at") VALUES (2, 2, 1, '2004-10-12 05:00:00', '1 hour session', '2025-09-05 19:11:38.106913', '2025-09-05 19:11:38.106913') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (44.7ms)[0m  [1m[35mDROP DATABASE IF EXISTS "lab_03_v2_juan_cabello_vargas_development" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (1.8ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (37.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "lab_03_v2_juan_cabello_vargas_test" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (43.4ms)[0m  [1m[35mCREATE DATABASE "lab_03_v2_juan_cabello_vargas_development" ENCODING = 'unicode' /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (23.4ms)[0m  [1m[35mCREATE DATABASE "lab_03_v2_juan_cabello_vargas_test" ENCODING = 'unicode' /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (8.3ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "guests" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.9ms)[0m  [1m[35mCREATE TABLE "guests" ("id" bigserial primary key, "first_name" character varying NOT NULL, "last_name" character varying NOT NULL, "email" character varying NOT NULL, "phone" character varying NOT NULL, "document_id" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "invoices" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "invoices" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "nights_subtotal" integer NOT NULL, "services_subtotal" integer, "tax" integer NOT NULL, "total" integer NOT NULL, "issued_at" timestamp(6) NOT NULL, "status" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "reservations" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE TABLE "reservations" ("id" bigserial primary key, "code" character varying NOT NULL, "guest_id" integer NOT NULL, "room_id" integer NOT NULL, "check_in" date NOT NULL, "check_out" date NOT NULL, "status" integer NOT NULL, "adults" integer NOT NULL, "children" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" bigserial primary key, "number" character varying NOT NULL, "room_type" integer NOT NULL, "price" integer NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "service_usages" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "service_usages" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "service_id" integer NOT NULL, "quantity" integer NOT NULL, "used_at" timestamp(6) NOT NULL, "note" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "name" character varying NOT NULL, "price" integer NOT NULL, "is_active" boolean NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250905172800) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20250905171952),
(20250905170817),
(20250905165941),
(20250904214231),
(20250904212511); /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-09-05 19:13:45.607986', '2025-09-05 19:13:45.607989') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '8bd4548db056584c2f465d6f79344eaa19b265d7', '2025-09-05 19:13:45.614214', '2025-09-05 19:13:45.614216') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (10.7ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "guests" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "guests" ("id" bigserial primary key, "first_name" character varying NOT NULL, "last_name" character varying NOT NULL, "email" character varying NOT NULL, "phone" character varying NOT NULL, "document_id" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "invoices" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.7ms)[0m  [1m[35mCREATE TABLE "invoices" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "nights_subtotal" integer NOT NULL, "services_subtotal" integer, "tax" integer NOT NULL, "total" integer NOT NULL, "issued_at" timestamp(6) NOT NULL, "status" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "reservations" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "reservations" ("id" bigserial primary key, "code" character varying NOT NULL, "guest_id" integer NOT NULL, "room_id" integer NOT NULL, "check_in" date NOT NULL, "check_out" date NOT NULL, "status" integer NOT NULL, "adults" integer NOT NULL, "children" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" bigserial primary key, "number" character varying NOT NULL, "room_type" integer NOT NULL, "price" integer NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "service_usages" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "service_usages" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "service_id" integer NOT NULL, "quantity" integer NOT NULL, "used_at" timestamp(6) NOT NULL, "note" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "name" character varying NOT NULL, "price" integer NOT NULL, "is_active" boolean NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250905172800) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20250905171952),
(20250905170817),
(20250905165941),
(20250904214231),
(20250904212511); /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-09-05 19:13:45.665551', '2025-09-05 19:13:45.665552') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.5ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2025-09-05 19:13:45.667365' WHERE "ar_internal_metadata"."key" = 'environment' /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '8bd4548db056584c2f465d6f79344eaa19b265d7', '2025-09-05 19:13:45.669218', '2025-09-05 19:13:45.669219') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mGuest Create (1.9ms)[0m  [1m[32mINSERT INTO "guests" ("first_name", "last_name", "email", "phone", "document_id", "created_at", "updated_at") VALUES ('Andres', 'Howard', 'aihoward@miuandes.cl', '900001111', '99999999k', '2025-09-05 19:13:45.722695', '2025-09-05 19:13:45.722695') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mGuest Create (0.9ms)[0m  [1m[32mINSERT INTO "guests" ("first_name", "last_name", "email", "phone", "document_id", "created_at", "updated_at") VALUES ('Elvis', 'Tec', 'test@test.com', '912345678', '141414142', '2025-09-05 19:13:45.737849', '2025-09-05 19:13:45.737849') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mRoom Create (1.3ms)[0m  [1m[32mINSERT INTO "rooms" ("number", "room_type", "price", "status", "created_at", "updated_at") VALUES ('101', 1, 1000, 1, '2025-09-05 19:13:45.759833', '2025-09-05 19:13:45.759833') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mRoom Create (1.1ms)[0m  [1m[32mINSERT INTO "rooms" ("number", "room_type", "price", "status", "created_at", "updated_at") VALUES ('201', 2, 2000, 2, '2025-09-05 19:13:45.766330', '2025-09-05 19:13:45.766330') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mRoom Create (1.0ms)[0m  [1m[32mINSERT INTO "rooms" ("number", "room_type", "price", "status", "created_at", "updated_at") VALUES ('301', 3, 3000, 3, '2025-09-05 19:13:45.774926', '2025-09-05 19:13:45.774926') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mService Create (1.3ms)[0m  [1m[32mINSERT INTO "services" ("name", "price", "is_active", "created_at", "updated_at") VALUES ('Laundry', 20, TRUE, '2025-09-05 19:13:45.789486', '2025-09-05 19:13:45.789486') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mService Create (1.0ms)[0m  [1m[32mINSERT INTO "services" ("name", "price", "is_active", "created_at", "updated_at") VALUES ('Spa', 15, FALSE, '2025-09-05 19:13:45.813178', '2025-09-05 19:13:45.813178') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mReservation Create (1.2ms)[0m  [1m[32mINSERT INTO "reservations" ("code", "guest_id", "room_id", "check_in", "check_out", "status", "adults", "children", "created_at", "updated_at") VALUES ('code1', 1, 1, '2025-09-01', '2025-09-15', 1, 1, 2, '2025-09-05 19:13:45.830843', '2025-09-05 19:13:45.830843') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mReservation Create (0.8ms)[0m  [1m[32mINSERT INTO "reservations" ("code", "guest_id", "room_id", "check_in", "check_out", "status", "adults", "children", "created_at", "updated_at") VALUES ('code2', 2, 3, '1995-12-21', '2025-12-31', 1, 1, NULL, '2025-09-05 19:13:45.839281', '2025-09-05 19:13:45.839281') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mServiceUsage Create (1.5ms)[0m  [1m[32mINSERT INTO "service_usages" ("reservation_id", "service_id", "quantity", "used_at", "note", "created_at", "updated_at") VALUES (1, 1, 2, '2025-09-10 10:00:00', '2 Shirts and 4 pants', '2025-09-05 19:13:45.854994', '2025-09-05 19:13:45.854994') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mServiceUsage Create (3.0ms)[0m  [1m[32mINSERT INTO "service_usages" ("reservation_id", "service_id", "quantity", "used_at", "note", "created_at", "updated_at") VALUES (2, 2, 1, '2004-10-12 05:00:00', '1 hour session', '2025-09-05 19:13:45.863505', '2025-09-05 19:13:45.863505') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (38.6ms)[0m  [1m[35mDROP DATABASE IF EXISTS "lab_03_v2_juan_cabello_vargas_development" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (1.1ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (28.0ms)[0m  [1m[35mDROP DATABASE IF EXISTS "lab_03_v2_juan_cabello_vargas_test" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (32.1ms)[0m  [1m[35mCREATE DATABASE "lab_03_v2_juan_cabello_vargas_development" ENCODING = 'unicode' /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mSET search_path TO public /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (34.7ms)[0m  [1m[35mCREATE DATABASE "lab_03_v2_juan_cabello_vargas_test" ENCODING = 'unicode' /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (12.0ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "guests" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (2.5ms)[0m  [1m[35mCREATE TABLE "guests" ("id" bigserial primary key, "first_name" character varying NOT NULL, "last_name" character varying NOT NULL, "email" character varying NOT NULL, "phone" character varying NOT NULL, "document_id" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "invoices" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "invoices" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "nights_subtotal" integer NOT NULL, "services_subtotal" integer, "tax" integer NOT NULL, "total" integer NOT NULL, "issued_at" timestamp(6) NOT NULL, "status" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "reservations" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "reservations" ("id" bigserial primary key, "code" character varying NOT NULL, "guest_id" integer NOT NULL, "room_id" integer NOT NULL, "check_in" date NOT NULL, "check_out" date NOT NULL, "status" integer NOT NULL, "adults" integer NOT NULL, "children" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" bigserial primary key, "number" character varying NOT NULL, "room_type" integer NOT NULL, "price" integer NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "service_usages" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "service_usages" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "service_id" integer NOT NULL, "quantity" integer NOT NULL, "used_at" timestamp(6) NOT NULL, "note" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "name" character varying NOT NULL, "price" integer NOT NULL, "is_active" boolean NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250905172800) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20250905171952),
(20250905170817),
(20250905165941),
(20250904214231),
(20250904212511); /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-09-05 19:14:51.916830', '2025-09-05 19:14:51.916832') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '8bd4548db056584c2f465d6f79344eaa19b265d7', '2025-09-05 19:14:51.922253', '2025-09-05 19:14:51.922255') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35mSQL (13.8ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql" SCHEMA pg_catalog /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "guests" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (3.0ms)[0m  [1m[35mCREATE TABLE "guests" ("id" bigserial primary key, "first_name" character varying NOT NULL, "last_name" character varying NOT NULL, "email" character varying NOT NULL, "phone" character varying NOT NULL, "document_id" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "invoices" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.8ms)[0m  [1m[35mCREATE TABLE "invoices" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "nights_subtotal" integer NOT NULL, "services_subtotal" integer, "tax" integer NOT NULL, "total" integer NOT NULL, "issued_at" timestamp(6) NOT NULL, "status" character varying NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "reservations" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE TABLE "reservations" ("id" bigserial primary key, "code" character varying NOT NULL, "guest_id" integer NOT NULL, "room_id" integer NOT NULL, "check_in" date NOT NULL, "check_out" date NOT NULL, "status" integer NOT NULL, "adults" integer NOT NULL, "children" integer, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" bigserial primary key, "number" character varying NOT NULL, "room_type" integer NOT NULL, "price" integer NOT NULL, "status" integer NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "service_usages" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "service_usages" ("id" bigserial primary key, "reservation_id" integer NOT NULL, "service_id" integer NOT NULL, "quantity" integer NOT NULL, "used_at" timestamp(6) NOT NULL, "note" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "services" CASCADE /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "services" ("id" bigserial primary key, "name" character varying NOT NULL, "price" integer NOT NULL, "is_active" boolean NOT NULL, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250905172800) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20250905171952),
(20250905170817),
(20250905165941),
(20250904214231),
(20250904212511); /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL) /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-09-05 19:14:51.975069', '2025-09-05 19:14:51.975070') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.6ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2025-09-05 19:14:51.976858' WHERE "ar_internal_metadata"."key" = 'environment' /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', '8bd4548db056584c2f465d6f79344eaa19b265d7', '2025-09-05 19:14:51.978572', '2025-09-05 19:14:51.978573') RETURNING "key" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mGuest Create (1.8ms)[0m  [1m[32mINSERT INTO "guests" ("first_name", "last_name", "email", "phone", "document_id", "created_at", "updated_at") VALUES ('Andres', 'Howard', 'aihoward@miuandes.cl', '900001111', '99999999k', '2025-09-05 19:14:52.034781', '2025-09-05 19:14:52.034781') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mGuest Create (0.9ms)[0m  [1m[32mINSERT INTO "guests" ("first_name", "last_name", "email", "phone", "document_id", "created_at", "updated_at") VALUES ('Elvis', 'Tec', 'test@test.com', '912345678', '141414142', '2025-09-05 19:14:52.050297', '2025-09-05 19:14:52.050297') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mRoom Create (1.4ms)[0m  [1m[32mINSERT INTO "rooms" ("number", "room_type", "price", "status", "created_at", "updated_at") VALUES ('101', 1, 1000, 1, '2025-09-05 19:14:52.072028', '2025-09-05 19:14:52.072028') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mRoom Create (1.1ms)[0m  [1m[32mINSERT INTO "rooms" ("number", "room_type", "price", "status", "created_at", "updated_at") VALUES ('201', 2, 2000, 2, '2025-09-05 19:14:52.079135', '2025-09-05 19:14:52.079135') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mRoom Create (0.9ms)[0m  [1m[32mINSERT INTO "rooms" ("number", "room_type", "price", "status", "created_at", "updated_at") VALUES ('301', 3, 3000, 3, '2025-09-05 19:14:52.087612', '2025-09-05 19:14:52.087612') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mService Create (1.4ms)[0m  [1m[32mINSERT INTO "services" ("name", "price", "is_active", "created_at", "updated_at") VALUES ('Laundry', 20, TRUE, '2025-09-05 19:14:52.103006', '2025-09-05 19:14:52.103006') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mService Create (1.2ms)[0m  [1m[32mINSERT INTO "services" ("name", "price", "is_active", "created_at", "updated_at") VALUES ('Spa', 15, FALSE, '2025-09-05 19:14:52.125989', '2025-09-05 19:14:52.125989') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mReservation Create (2.5ms)[0m  [1m[32mINSERT INTO "reservations" ("code", "guest_id", "room_id", "check_in", "check_out", "status", "adults", "children", "created_at", "updated_at") VALUES ('code1', 1, 1, '2025-09-01', '2025-09-15', 1, 1, 2, '2025-09-05 19:14:52.143670', '2025-09-05 19:14:52.143670') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mReservation Create (0.9ms)[0m  [1m[32mINSERT INTO "reservations" ("code", "guest_id", "room_id", "check_in", "check_out", "status", "adults", "children", "created_at", "updated_at") VALUES ('code2', 2, 3, '1995-12-21', '2025-12-31', 1, 1, NULL, '2025-09-05 19:14:52.152750', '2025-09-05 19:14:52.152750') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mServiceUsage Create (1.4ms)[0m  [1m[32mINSERT INTO "service_usages" ("reservation_id", "service_id", "quantity", "used_at", "note", "created_at", "updated_at") VALUES (1, 1, 2, '2025-09-10 10:00:00', '2 Shirts and 4 pants', '2025-09-05 19:14:52.169588', '2025-09-05 19:14:52.169588') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mServiceUsage Create (1.8ms)[0m  [1m[32mINSERT INTO "service_usages" ("reservation_id", "service_id", "quantity", "used_at", "note", "created_at", "updated_at") VALUES (2, 2, 1, '2004-10-12 05:00:00', '1 hour session', '2025-09-05 19:14:52.177944', '2025-09-05 19:14:52.177944') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mInvoice Create (1.3ms)[0m  [1m[32mINSERT INTO "invoices" ("reservation_id", "nights_subtotal", "services_subtotal", "tax", "total", "issued_at", "status", "created_at", "updated_at") VALUES (1, 15000, 40, 2857, 17897, '2025-09-15 05:15:00', '1', '2025-09-05 19:14:52.192968', '2025-09-05 19:14:52.192968') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mInvoice Create (1.0ms)[0m  [1m[32mINSERT INTO "invoices" ("reservation_id", "nights_subtotal", "services_subtotal", "tax", "total", "issued_at", "status", "created_at", "updated_at") VALUES (2, 32904000, 15, 6251762, 39155777, '2025-12-31 12:00:00', '1', '2025-09-05 19:14:52.197932', '2025-09-05 19:14:52.197932') RETURNING "id" /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mInvoice Load (25.5ms)[0m  [1m[34mSELECT "invoices".* FROM "invoices" /* loading for pp */ LIMIT 11 /*application='Lab03V2JuanCabelloVargas'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Lab03V2JuanCabelloVargas'*/[0m
